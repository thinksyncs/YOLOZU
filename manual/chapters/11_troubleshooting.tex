\chapter{Troubleshooting}

\ChapterMeta{
This chapter provides a fast debugging playbook: validate artifacts first, then check common integration failure modes.
}{
It shortens iteration time by catching schema, path, and class-mapping issues before you interpret metrics.
}{
It is most useful when you run validators on the exact artifacts you evaluate; pay attention to \cmd{--pred-root} and consistent class ordering across exporter and evaluator.
}

\section{Validate early}
If evaluation results look wrong, validate the artifacts first.

Predictions schema:
\begin{lstlisting}[language=bash]
python3 tools/validate_predictions.py /path/to/predictions.json --strict
\end{lstlisting}

Instance segmentation predictions:
\begin{lstlisting}[language=bash]
python3 tools/validate_instance_segmentation_predictions.py /path/to/preds.json
\end{lstlisting}

\section{Common problems}
\begin{itemize}
  \item \textbf{Path issues}: relative paths inside JSON that do not match \cmd{--pred-root}.
  \item \textbf{Class mapping mismatch}: \path{classes.txt} ordering differs from the model/exporter.
  \item \textbf{Backend mismatch}: pre/post-processing differs across backends.
  \item \textbf{TensorRT environment}: pinned to Linux/NVIDIA; use the documented container workflow.
\end{itemize}

\section{Where to look next}
\begin{itemize}
  \item Tools index: \path{docs/tools_index.md}
  \item External inference notes: \path{docs/external_inference.md}
  \item Predictions schema: \path{docs/predictions_schema.md}
  \item Training/export overview: \path{docs/training_inference_export.md}
\end{itemize}
